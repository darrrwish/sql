# شرح العوامل في SQL

في SQL، العوامل (Operators) بتخلينا نقدر نعمل عمليات حسابية، منطقية، ومقارنات بين القيم. تعال نشرح كل نوع بعوامله، ومع كل نوع هتشوف أمثلة عملية باستخدام قاعدة البيانات الطبية اللي معانا.

---

## أولًا: العوامل الحسابية (Arithmetic Operators)

| العامل | معناه        |
|--------|--------------|
| +      | جمع           |
| -      | طرح           |
| *      | ضرب           |
| /      | قسمة          |
| %      | باقي القسمة   |

###  مثال 1:
عايزين نحسب عدد الأيام اللي فاتت من يوم معين (مثلاً 30 يوم قبل التاريخ الحالي).

**الحل**:

```sql
SELECT CURRENT_DATE - INTERVAL 30 DAY AS thirty_days_ago;
````



###  مثال 2:

عايزين نعرض تكلفة زيارة ونضيف عليها 50 جنيه كتكلفة دواء.

**الحل**:

```sql
SELECT id, patient_id, (fee + 50) AS total_cost
FROM visits
WHERE id = 1;
```



###  مثال 3:

عايزين نحسب ضعف تكلفة الزيارة (يعني نضربها في 2).

**الحل**:

```sql
SELECT id, (fee * 2) AS double_fee
FROM visits;
```


---

## ثانيًا: العوامل الخاصة بالبت (Bitwise Operators)

| العامل | معناه              |
| ------ | ------------------ |
| &      | AND على مستوى البت |
| \|     | OR على مستوى البت  |
| ^      | XOR على مستوى البت |

> دي نادرًا بنستخدمها في SQL العادي، لكن لو محتاجين نشتغل على أرقام بنظام البت، دول مفيدين.

---

## ثالثًا: عوامل المقارنة (Comparison Operators)

| العامل | معناه         |
| ------ | ------------- |
| =      | يساوي         |
| >      | أكبر من       |
| <      | أصغر من       |
| >=     | أكبر أو يساوي |
| <=     | أصغر أو يساوي |
| <>     | لا يساوي      |

###  مثال 4:

عايزين نعرض كل المرضى اللي تاريخ ميلادهم بعد سنة 1990.

**الحل**:

```sql
SELECT * 
FROM patients
WHERE dob > '1990-01-01';
```


###  مثال 5:

عايزين نعرض كل الدكاترة اللي تخصصهم مش "باطنة".

**الحل**:

```sql
SELECT *
FROM doctors
WHERE specialty <> 'باطنة';
```

---

## رابعًا: العوامل المركبة (Compound Operators)

| العامل | معناه              |
| ------ | ------------------ |
| +=     | جمع وتخزين         |
| -=     | طرح وتخزين         |
| \*=    | ضرب وتخزين         |
| /=     | قسمة وتخزين        |
| %=     | باقي القسمة وتخزين |

> SQL العادية (زي MySQL وPostgreSQL) مش بتدعم العوامل دي بشكل مباشر في `SELECT`، لكنها بتستخدم في لغات PL/SQL أو T-SQL داخل العمليات البرمجية (loops/functions).



## خامسًا: العوامل المنطقية (Logical Operators)

| العامل  | معناه                       |
| ------- | --------------------------- |
| AND     | وكل الشروط لازم تكون صحيحة  |
| OR      | شرط واحد كفاية يكون صحيح    |
| NOT     | عكس الشرط                   |
| IN      | القيمة تكون ضمن قائمة       |
| BETWEEN | القيمة بين رقمين            |
| LIKE    | القيمة بتطابق نمط معين      |
| EXISTS  | الشرط بيتحقق لو فيه بيانات  |
| ANY     | أي قيمة من القيم تحقق الشرط |
| ALL     | كل القيم تحقق الشرط         |

###  مثال 6:

عايزين نعرض المرضى اللي عنوانهم فيه كلمة "الجيزة" وجنسهم ذكر.

**الحل**:

```sql
SELECT * 
FROM patients
WHERE address LIKE '%الجيزة%' AND gender = 'ذكر';
```


###  مثال 7:

عايزين نعرض التشخيصات اللي نوعها "سكري من النوع الثاني" أو "التهاب رئوي حاد".

**الحل**:

```sql
SELECT * 
FROM diagnoses
WHERE diagnosis IN ('سكري من النوع الثاني', 'التهاب رئوي حاد');
```



###  مثال 8:

عايزين نعرض الزيارات اللي حصلت بين تاريخين.

**الحل**:

```sql
SELECT * 
FROM visits
WHERE visit_date BETWEEN '2024-04-28' AND '2024-05-03';
```

###  مثال 9:

عايزين نعرض المرضى اللي عندهم زيارات على الأقل واحدة.

**الحل**:

```sql
SELECT * 
FROM patients
WHERE EXISTS (
  SELECT * FROM visits 
  WHERE visits.patient_id = patients.id
);
```



###  مثال 10:

عايزين نعرض الأدوية اللي تاريخ بدايتها أكبر من أي تاريخ موجود لمريض رقم 1.

**الحل**:

```sql
SELECT * 
FROM medications
WHERE start_date > ANY (
  SELECT start_date FROM medications 
  WHERE patient_id = 1
);
```

