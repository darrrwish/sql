# **مفاهيم قواعد البيانات العلائقية**

**قواعد البيانات العلائقية** (Relational Databases) : كلمة **علائقية** (Relational) في قواعد البيانات بتشير إلى طريقة تنظيم البيانات باستخدام **جداول** (Tables) مترابطة مع بعضها عن طريق **مفاتيح** (Keys). القواعد البيانات العلائقية (زي اللي بتستخدم SQL) بتعتمد على فكرة إنك تخزن البيانات في جداول منظمة، وكل جدول بيمثل كيان معين (زي الأطباء أو المرضى)، والجداول دي بتترابط ببعضها عشان تقدر تجيب معلومات بشكل دقيق ومنظم.

---

## **1. الجدول (Table)**
- **التعريف**: الجدول هو الوحدة الأساسية لتخزين البيانات في قاعدة البيانات العلائقية. بيمثل كيان معين (زي المرضى أو الأطباء)، وبيتكون من:
  - **أعمدة** (Columns): بتحدد أنواع البيانات (مثل الاسم، التاريخ، الرقم).
  - **صفوف** (Rows): بتمثل السجلات الفردية (مثل بيانات مريض معين).
- **مثال عملي**: في نظام عيادة، جدول الأطباء بيخزن بيانات زي:
  - أعمدة: `id`, `name`, `specialty`, `phone`.
  - صف: `1, أحمد سمير, باطنة, 01012345678`.
- **مثال توضيحي**:

| id | name            | specialty       | phone         |
|----|-----------------|-----------------|---------------|
| 1  | أحمد سمير      | باطنة          | 01012345678   |
| 2  | سارة محمود     | جراحة عظام     | 01234567890   |
| 3  | خالد حسن       | صدرية          | 01123456789   |


---

## **2. المفتاح الرئيسي (Primary Key)**
- **التعريف**: عمود (أو مجموعة أعمدة) بيميز كل سجل في الجدول بشكل فريد. لازم يكون فريد وما يحتويش قيم فاضية (NULL).
- **مثال عملي**: في جدول الأطباء، العمود `id` هو المفتاح الرئيسي، لأن كل دكتور ليه رقم فريد (مثل `1` لـ "أحمد سمير").
- **مثال توضيحي**: في نظام مستشفى، جدول المرضى بيكون فيه `id` كمفتاح رئيسي عشان يميز كل مريض (مثل `1` لـ "فاطمة علي").
- **الفايدة**: بيضمن تمييز السجلات ويستخدم في ربط الجداول.

---

## **3. المفتاح الخارجي (Foreign Key)**
- **التعريف**: عمود في جدول بيشير إلى مفتاح رئيسي في جدول آخر، عشان يربط بين الجداول.
- **مثال عملي**: في جدول الزيارات، العمود `patient_id` هو مفتاح خارجي بيشير إلى `id` في جدول المرضى، و`doctor_id` بيشير إلى `id` في جدول الأطباء.
- **مثال توضيحي**: لو نظام عيادة بيسجل زيارة لمريض عند دكتور، جدول الزيارات هيحتوي على `patient_id: 2` (لـ "سارة محمود") و`doctor_id: 3` (لـ "خالد حسن").
- **الفايدة**: بيحافظ على السلامة المرجعية، يعني ما تقدرش تسجل زيارة لمريض أو دكتور مش موجودين.

**مثال توضيحي**:


| id | patient_id | doctor_id | visit_date  | notes                   |
|----|------------|-----------|-------------|-------------------------|
| 1  | 1          | 3         | 2024-04-28  | سعال وارتفاع حرارة    |
| 2  | 2          | 1         | 2024-04-30  | ضغط مرتفع وصداع       |


- `patient_id: 1` بيشير إلى مريض في جدول المرضى.
- `doctor_id: 3` بيشير إلى "خالد حسن" في جدول الأطباء.

---

## **4. العلاقات (Relationships)**
- **التعريف**: الطريقة اللي بتربط بين الجداول باستخدام المفاتيح. فيه 3 أنواع رئيسية:
  - **واحد إلى واحد (One-to-One)**: زي لو كل مريض عنده ملف طبي واحد بس.
  - **واحد إلى متعدد (One-to-Many)**: زي دكتور واحد بيعالج مرضى كتير.
  - **متعدد إلى متعدد (Many-to-Many)**: زي مريض بيزور أكتر من دكتور، ودكتور بيعالج أكتر من مريض (بتتحقق بجدول وسيط زي الزيارات).
- **مثال عملي**: جدول الزيارات بيمثل علاقة **متعدد إلى متعدد**:
  - مريض واحد ممكن يزور أكتر من دكتور.
  - دكتور واحد ممكن يعالج أكتر من مريض.
- **مثال توضيحي**: في نظام مستشفى، لو عايز تعرف كل الزيارات بتاعة دكتور معين، هتربط جدول الزيارات بجدول الأطباء باستخدام `doctor_id`.

---

## **5. المخطط (Schema)**
- **التعريف**: الهيكلية اللي بتحدد شكل الجداول (الأعمدة وأنواع البيانات) والعلاقات بينها. لازم يتحدد قبل إضافة البيانات.
- **مثال عملي**: مخطط جدول الأدوية بيحدد إن `patient_id` من نوع عدد صحيح (INT)، و`medication` من نوع نص (VARCHAR).
- **مثال توضيحي**: في نظام عيادة، مخطط جدول المرضى بيحدد أعمدة زي `id: INT`, `name: VARCHAR`, `phone: VARCHAR`.
- **الفايدة**: بيضمن تنظيم البيانات واتساقها.

**مقتطف** (هنشرحه في وحدة "إدارة قواعد البيانات"):
```sql
CREATE TABLE patients (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    phone VARCHAR(15)
);
```

---

## **6. السلامة المرجعية (Referential Integrity)**
- **التعريف**: قاعدة بتضمن إن المفاتيح الخارجية بتشير إلى مفاتيح رئيسية موجودة فعلًا في جدول آخر.
- **مثال عملي**: في جدول الزيارات، ما تقدرش تضيف زيارة بـ `patient_id: 10` لو مفيش مريض بـ `id: 10` في جدول المرضى.
- **مثال توضيحي**: في نظام مستشفى، لو حاولت تسجل زيارة لدكتور مش موجود في جدول الأطباء، النظام هيمنعك.
- **الفايدة**: بتحافظ على اتساق البيانات وتمنع الأخطاء.

---

## **7. التطبيع (Normalization)**
- **التعريف**: عملية تقسيم البيانات إلى جداول صغيرة عشان تتجنب التكرار وتحافظ على التنظيم.
- **مثال عملي**: بدل ما تخزن اسم الدكتور وتخصصه في جدول الزيارات مع كل زيارة، بتخزنهم في جدول الأطباء وتربطهم بـ `doctor_id`.
- **مثال توضيحي**: في نظام عيادة، بتخزن بيانات المريض (زي الاسم والعنوان) مرة واحدة في جدول المرضى بدل ما تكررها في كل زيارة.
- **الفايدة**: بيقلل التكرار، يوفر مساحة، ويسهل تحديث البيانات.

---

## **8. لغة الاستعلام (SQL)**
- **التعريف**: SQL (Structured Query Language) هي اللغة المستخدمة للتعامل مع قواعد البيانات العلائقية، زي إضافة، تعديل، حذف، أو جلب البيانات.
- **مثال عملي**: لو عايز تجيب أسماء الأطباء في قسم معين من جدول الأطباء:
  - **مقتطف** (هنشرحه في وحدة "استعلام البيانات"):
    ```sql
    SELECT name FROM doctors WHERE specialty = 'باطنة';
    ```
- **مثال توضيحي**: في نظام مستشفى، لو عايز تعمل تقرير عن زيارات مريض معين، هتستخدم SQL عشان تجمع البيانات من جدول الزيارات والمرضى.

---

## **مثال عملي شامل**
في نظام عيادة طبية، قاعدة البيانات العلائقية بتحتوي على:
- **جدول المرضى**: بيخزن بيانات زي `id`, `name`, `phone`.
- **جدول الأطباء**: بيخزن بيانات زي `id`, `name`, `specialty`.
- **جدول الزيارات**: بيربط بين المرضى والأطباء باستخدام `patient_id` و`doctor_id`.

**مثال توضيحي**:
- لو مريض "فاطمة علي" (`patient_id: 1`) زار دكتور "خالد حسن" (`doctor_id: 3`) يوم 28 أبريل 2024، جدول الزيارات هيسجل الزيارة دي مع ملاحظات زي "سعال وارتفاع حرارة".
- لو عايز تعرف كل الزيارات لدكتور "خالد حسن"، هتستخدم العلاقات بين الجداول:
  - **مقتطف** (هنشرحه في وحدة "الجداول والعلاقات"):
    ```sql
    SELECT p.name, v.visit_date, v.notes
    FROM visits v
    INNER JOIN patients p ON v.patient_id = p.id
    INNER JOIN doctors d ON v.doctor_id = d.id
    WHERE d.name = 'شهاب عبد الله';
    ```

---
## **مفهوم العلائقية ببساطة**
القاعدة البيانات **العلائقية** (Relational Database) هي نظام بيخزن البيانات في **جداول**، وكل جدول فيه:
- **أعمدة** (Columns): بتمثل أنواع البيانات (زي الاسم، التاريخ، الرقم).
- **صفوف** (Rows): بتمثل السجلات (مثل بيانات دكتور معين أو زيارة معينة).
- **مفاتيح** (Keys): بتربط الجداول مع بعضها عشان تقدر تجمع البيانات أو تستعلم عنها بسهولة.

العلاقات بين الجداول بتتم عن طريق:
- **Primary Key** (المفتاح الرئيسي): رقم أو قيمة فريدة بتميز كل سجل في الجدول (زي `id` في جدول `doctors`).
- **Foreign Key** (المفتاح الخارجي): عمود في جدول بيشير إلى مفتاح رئيسي في جدول تاني (زي `doctor_id` في جدول `visits` بيشير إلى `id` في جدول `doctors`).


## **لماذا قواعد البيانات العلائقية مهمة؟**
1. **تنظيم البيانات**: بتخزن البيانات في جداول منظمة عشان تكون سهلة الإدارة.
2. **السلامة المرجعية**: بتضمن اتساق البيانات (مثل منع إضافة زيارة لدكتور غير موجود).
3. **الاستعلامات المعقدة**: بتسمح بجمع بيانات من جداول مختلفة بسهولة.
4. **التطبيع**: بيقلل التكرار ويحافظ على كفاءة التخزين.

